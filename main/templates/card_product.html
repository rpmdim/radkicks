{% load static %}

<article class="bg-red-700 rounded-xl border border-red-700 shadow-sm hover:shadow-lg transition duration-300 transform hover:-translate-y-2 overflow-hidden">
  <!-- Thumbnail -->
  <div class="aspect-[4/3] relative overflow-hidden">
    {% if item.thumbnail %}
      <img src="{{ item.thumbnail }}" alt="{{ item.name }}" class="w-full h-full object-cover transition-transform duration-300 ease-in-out hover:scale-110">
    {% else %}
      <div class="w-full h-full bg-gray-100 flex items-center justify-center text-gray-400">
        No Image
      </div>
    {% endif %}

<!-- Category Badge -->
<div class="absolute top-3 left-3">
  <span class="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-yellow-500 text-white">
    {{ item.get_category_display }}
  </span>
</div>

<!-- Stock -->
<div class="absolute bottom-3 left-3">
  <span class="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-black/50 text-yellow-100">
    Stock: {{ item.stock }}
  </span>
</div>

<!-- Status Badges -->
<div class="absolute top-3 right-3 flex space-x-2">
  {% if item.is_featured %}
    <span class="inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800">
      Featured
    </span>
  {% endif %}
</div>

  </div>

  <!-- Content -->

  <div class="p-5">
    <!-- Brand & Rating -->
    <div class="flex items-center justify-between text-sm text-gray-500 mb-2">
      {% if item.brand %}
        <span class="font-medium text-gray-100">{{ item.brand }}</span>
      {% endif %}
      <div class="flex items-center space-x-1">
        <span class="text-yellow-400">★</span>
        <span class="text-white">{{ item.rating|floatformat:1 }}</span>
      </div>
    </div>

<!-- Name -->
<h3 class="text-lg font-semibold text-white mb-2 line-clamp-1">
  <a href="{% url 'main:show_product' item.id %}" class="hover:text-yellow-400 transition-colors">
    {{ item.name }}
  </a>
</h3>

<!-- Price & Size -->
<div class="flex items-center justify-between mb-3">
  <span class="text-[#00FF80] font-bold text-lg">Rp {{ item.price }}</span>
  {% if item.size %}
    <span class="text-xs bg-gray-100 px-2 py-0.5 rounded">Size: {{ item.size }}</span>
  {% endif %}
</div>

<!-- Description -->
<p class="text-gray-200 text-sm leading-relaxed line-clamp-2 mb-4">
  {{ item.description|truncatewords:15 }}
</p>

<!-- Action Buttons -->
<div class="pt-4 border-t border-red-500 flex items-center justify-between">
  <a href="{% url 'main:show_product' item.id %}" 
     class="inline-flex items-center justify-center text-white bg-blue-600/75 border border-blue-600 rounded px-4 py-2 font-medium text-sm transition-colors transition-transform transform hover:bg-blue-600 hover:text-white hover:-translate-y-0.5">
    View Product Details →
  </a>

  {% if user.is_authenticated and item.user == user %}
    <div class="flex space-x-2">
      <a href="{% url 'main:edit_product' item.id %}" 
         class="inline-flex items-center justify-center text-white bg-gray-50/50 border-gray-400 rounded px-4 py-2 font-medium text-sm transition-colors transition-transform transform hover:bg-gray-400 hover:text-white hover:-translate-y-0.5">
        Edit
      </a>
      <a href="{% url 'main:delete_product' item.id %}" 
         class="inline-flex items-center justify-center text-white bg-red-200/25 border border-red-600 rounded px-4 py-2 font-medium text-sm transition-colors transition-transform transform hover:bg-red-500 hover:text-white hover:-translate-y-0.5">
        Delete
      </a>
    </div>
  {% endif %}
</div>

  </div>
</article>
